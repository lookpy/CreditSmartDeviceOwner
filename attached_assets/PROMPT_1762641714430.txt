2025-11-08 19:41:34.846  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         D  Starting handshake for contract: 22ZJ-3RZP
2025-11-08 19:41:34.848  8431-8431  DeviceInfoManager       com.cdccreditsmart.app.debug         W  READ_PHONE_STATE permission not granted
2025-11-08 19:41:34.849  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         D  Device IMEI: UNKN...
2025-11-08 19:41:34.849  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         W  IMEI not available - using code-only sync fallback
2025-11-08 19:41:34.849  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         D  Using fallback: claiming by code only (no IMEI)
2025-11-08 19:41:34.858  8431-8431  FingerprintCalculator   com.cdccreditsmart.app.debug         W  Cannot get serial number for fingerprint (Ask Gemini)
                                                                                                    java.lang.SecurityException: getSerial: The uid 10261 does not meet the requirements to access device identifiers.
                                                                                                    	at android.os.Parcel.createExceptionOrNull(Parcel.java:3242)
                                                                                                    	at android.os.Parcel.createException(Parcel.java:3226)
                                                                                                    	at android.os.Parcel.readException(Parcel.java:3209)
                                                                                                    	at android.os.Parcel.readException(Parcel.java:3151)
                                                                                                    	at android.os.IDeviceIdentifiersPolicyService$Stub$Proxy.getSerialForPackage(IDeviceIdentifiersPolicyService.java:157)
                                                                                                    	at android.os.Build.getSerial(Build.java:274)
                                                                                                    	at com.cdccreditsmart.app.security.FingerprintCalculator.calculateFingerprint(FingerprintCalculator.kt:15)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel.stepFallbackClaimByCodeOnly(PairingViewModel.kt:219)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel.access$stepFallbackClaimByCodeOnly(PairingViewModel.kt:43)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel$startHandshake$1.invokeSuspend(PairingViewModel.kt:91)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.internal.DispatchedContinuationKt.resumeCancellableWith(DispatchedContinuation.kt:367)
                                                                                                    	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
                                                                                                    	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable$default(Cancellable.kt:25)
                                                                                                    	at kotlinx.coroutines.CoroutineStart.invoke(CoroutineStart.kt:110)
                                                                                                    	at kotlinx.coroutines.AbstractCoroutine.start(AbstractCoroutine.kt:126)
                                                                                                    	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch(Builders.common.kt:56)
                                                                                                    	at kotlinx.coroutines.BuildersKt.launch(Unknown Source:1)
                                                                                                    	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
                                                                                                    	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source:1)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel.startHandshake(PairingViewModel.kt:80)
                                                                                                    	at com.cdccreditsmart.app.navigation.NavigationKt$CDCNavigation$1$1$4$1$1.invokeSuspend(Navigation.kt:109)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at androidx.compose.ui.platform.AndroidUiDispatcher.performTrampolineDispatch(AndroidUiDispatcher.android.kt:81)
                                                                                                    	at androidx.compose.ui.platform.AndroidUiDispatcher.access$performTrampolineDispatch(AndroidUiDispatcher.android.kt:41)
                                                                                                    	at androidx.compose.ui.platform.AndroidUiDispatcher$dispatchCallback$1.doFrame(AndroidUiDispatcher.android.kt:68)
                                                                                                    	at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1579)
                                                                                                    	at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1590)
                                                                                                    	at android.view.Choreographer.doCallbacks(Choreographer.java:1153)
                                                                                                    	at android.view.Choreographer.doFrame(Choreographer.java:1039)
                                                                                                    	at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1564)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
                                                                                                    Caused by: android.os.RemoteException: Remote stack trace:
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.throwSecurityExceptionAsUidDoesNotHaveAccess(TelephonyPermissions.java:350)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.reportAccessDeniedToReadIdentifiers(TelephonyPermissions.java:461)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.checkPrivilegedReadPermissionOrCarrierPrivilegePermission(TelephonyPermissions.java:400)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.checkCallingOrSelfReadDeviceIdentifiers(TelephonyPermissions.java:302)
2025-11-08 19:41:34.858  8431-8431  FingerprintCalculator   com.cdccreditsmart.app.debug         W  	at com.android.internal.telephony.TelephonyPermissions.checkCallingOrSelfReadDeviceIdentifiers(TelephonyPermissions.java:272)
2025-11-08 19:41:34.858  8431-8431  FingerprintCalculator   com.cdccreditsmart.app.debug         D  Calculating fingerprint from: SERIAL=UNKN..., BRAND=motorola, MODEL=moto g15, IMEI=N/A...
2025-11-08 19:41:34.861  8431-8431  FingerprintCalculator   com.cdccreditsmart.app.debug         D  Fingerprint calculated: 4bea7849dff586dd... (length: 64)
2025-11-08 19:41:34.865  8431-8431  DeviceInfoManager       com.cdccreditsmart.app.debug         W  Cannot get serial number (Ask Gemini)
                                                                                                    java.lang.SecurityException: getSerial: The uid 10261 does not meet the requirements to access device identifiers.
                                                                                                    	at android.os.Parcel.createExceptionOrNull(Parcel.java:3242)
                                                                                                    	at android.os.Parcel.createException(Parcel.java:3226)
                                                                                                    	at android.os.Parcel.readException(Parcel.java:3209)
                                                                                                    	at android.os.Parcel.readException(Parcel.java:3151)
                                                                                                    	at android.os.IDeviceIdentifiersPolicyService$Stub$Proxy.getSerialForPackage(IDeviceIdentifiersPolicyService.java:157)
                                                                                                    	at android.os.Build.getSerial(Build.java:274)
                                                                                                    	at com.cdccreditsmart.app.device.DeviceInfoManager.collectDeviceInfo(DeviceInfoManager.kt:80)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel.stepFallbackClaimByCodeOnly(PairingViewModel.kt:220)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel.access$stepFallbackClaimByCodeOnly(PairingViewModel.kt:43)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel$startHandshake$1.invokeSuspend(PairingViewModel.kt:91)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.internal.DispatchedContinuationKt.resumeCancellableWith(DispatchedContinuation.kt:367)
                                                                                                    	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
                                                                                                    	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable$default(Cancellable.kt:25)
                                                                                                    	at kotlinx.coroutines.CoroutineStart.invoke(CoroutineStart.kt:110)
                                                                                                    	at kotlinx.coroutines.AbstractCoroutine.start(AbstractCoroutine.kt:126)
                                                                                                    	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch(Builders.common.kt:56)
                                                                                                    	at kotlinx.coroutines.BuildersKt.launch(Unknown Source:1)
                                                                                                    	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
                                                                                                    	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source:1)
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel.startHandshake(PairingViewModel.kt:80)
                                                                                                    	at com.cdccreditsmart.app.navigation.NavigationKt$CDCNavigation$1$1$4$1$1.invokeSuspend(Navigation.kt:109)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at androidx.compose.ui.platform.AndroidUiDispatcher.performTrampolineDispatch(AndroidUiDispatcher.android.kt:81)
                                                                                                    	at androidx.compose.ui.platform.AndroidUiDispatcher.access$performTrampolineDispatch(AndroidUiDispatcher.android.kt:41)
                                                                                                    	at androidx.compose.ui.platform.AndroidUiDispatcher$dispatchCallback$1.doFrame(AndroidUiDispatcher.android.kt:68)
                                                                                                    	at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1579)
                                                                                                    	at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1590)
                                                                                                    	at android.view.Choreographer.doCallbacks(Choreographer.java:1153)
                                                                                                    	at android.view.Choreographer.doFrame(Choreographer.java:1039)
                                                                                                    	at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1564)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
2025-11-08 19:41:35.494  8431-8431  InsetsController        com.cdccreditsmart.app.debug         D  hide(ime(), fromIme=false)
2025-11-08 19:41:35.495  8431-8431  ImeTracker              com.cdccreditsmart.app.debug         I  com.cdccreditsmart.app.debug:616390d7: onRequestHide at ORIGIN_CLIENT reason HIDE_SOFT_INPUT_BY_INSETS_API fromUser false
2025-11-08 19:41:35.495  8431-8431  ImeTracker              com.cdccreditsmart.app.debug         I  com.cdccreditsmart.app.debug:616390d7: onCancelled at PHASE_CLIENT_APPLY_ANIMATION
2025-11-08 19:41:35.774  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         W  Attempt 1 failed: HTTP 400: 
2025-11-08 19:41:37.061  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         W  Attempt 2 failed: HTTP 400: 
2025-11-08 19:41:39.319  8431-8431  PairingViewModel        com.cdccreditsmart.app.debug         E  Error in handshake (Ask Gemini)
                                                                                                    java.lang.Exception: HTTP 400: 
                                                                                                    	at com.cdccreditsmart.app.presentation.pairing.PairingViewModel$stepFallbackClaimByCodeOnly$2.invokeSuspend(PairingViewModel.kt:268)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
