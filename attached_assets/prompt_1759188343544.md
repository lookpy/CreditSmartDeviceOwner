2025-09-29 20:23:40.449  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Starting pairing with manually entered IMEI: 15 digits
2025-09-29 20:23:40.450  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Performing pairing with IMEI: 3531***
2025-09-29 20:23:40.450  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Searching for pending sale with IMEI: 353104903560533
2025-09-29 20:23:40.450  5436-5436  SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Searching for pending sale with IMEI: 353104903560533
2025-09-29 20:23:40.455  5436-14902 SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Request URL: https://cdccreditsmart.com/api/device/claim-sale?imei=353104903560533
2025-09-29 20:23:40.455  5436-14902 SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Request Headers: Content-Type: application/json
                                                                                                    Accept: application/json
                                                                                                    User-Agent: CDC-CreditSmart/1.0.0
2025-09-29 20:23:40.490  5436-5436  InsetsController        com.cdccreditsmart.app.debug         D  hide(ime(), fromIme=false)
2025-09-29 20:23:40.491  5436-5436  ImeTracker              com.cdccreditsmart.app.debug         I  com.cdccreditsmart.app.debug:ff32d0de: onRequestHide at ORIGIN_CLIENT reason HIDE_SOFT_INPUT_BY_INSETS_API fromUser false
2025-09-29 20:23:40.492  5436-5436  ImeTracker              com.cdccreditsmart.app.debug         I  com.cdccreditsmart.app.debug:ff32d0de: onCancelled at PHASE_CLIENT_APPLY_ANIMATION
2025-09-29 20:23:40.839  5436-14902 SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Response Code: 200
2025-09-29 20:23:40.840  5436-14902 SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Response Headers: access-control-allow-credentials: true
                                                                                                    access-control-allow-headers: Origin, X-Requested-With, Content-Type, Accept, Authorization, x-client-key, x-client-token, x-client-secret, cache-control
                                                                                                    access-control-allow-methods: GET, POST, PUT, PATCH, DELETE, OPTIONS
                                                                                                    access-control-allow-origin: *
                                                                                                    access-control-max-age: 86400
                                                                                                    content-length: 196
                                                                                                    content-security-policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://replit.com; style-src 'self' 'unsafe-inline' https://replit.com; img-src 'self' data: https:; font-src 'self' data: https://replit.com; connect-src 'self';
                                                                                                    content-type: application/json; charset=utf-8
                                                                                                    date: Mon, 29 Sep 2025 23:23:41 GMT
                                                                                                    etag: W/"c4-ha7q7laU+JOOP78wcHjTqsJvYN8"
                                                                                                    permissions-policy: geolocation=(), microphone=(), camera=()
                                                                                                    referrer-policy: strict-origin-when-cross-origin
                                                                                                    server: Google Frontend
                                                                                                    strict-transport-security: max-age=63072000; includeSubDomains
                                                                                                    strict-transport-security: max-age=31536000; includeSubDomains
                                                                                                    x-anti-fraud-protection: active
                                                                                                    x-certificate-pinning-enabled: false
                                                                                                    x-certificate-pinning-status: disabled-for-stability
                                                                                                    x-cloud-trace-context: 8d72304268604f05e198df3fe882fe72;o=1
                                                                                                    x-content-type-options: nosniff
                                                                                                    x-financial-data-protection: enabled
                                                                                                    x-frame-options: DENY
                                                                                                    x-transaction-security-level: maximum
                                                                                                    x-xss-protection: 1; mode=block
                                                                                                    via: 1.1 google
                                                                                                    alt-svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
2025-09-29 20:23:40.840  5436-14902 SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Response Content-Type: application/json; charset=utf-8
2025-09-29 20:23:40.851  5436-5436  SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Search response - Code: 200, Success: true
2025-09-29 20:23:40.851  5436-5436  SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Pending sale found: true
2025-09-29 20:23:40.851  5436-5436  SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Sale details - ID: sale_1759188155605_9mv7ft3r7bg, Customer: Cliente, Model: Dispositivo
2025-09-29 20:23:40.852  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Pending sale found!
2025-09-29 20:23:40.852  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Sale ID: sale_1759188155605_9mv7ft3r7bg
2025-09-29 20:23:40.852  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Validation ID: 05b6bdc7-ce2b-49cd-9d30-e796c1437054
2025-09-29 20:23:40.852  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Customer: Cliente
2025-09-29 20:23:40.852  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Device Model: Dispositivo
2025-09-29 20:23:40.852  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Expires in: 86333s
2025-09-29 20:23:40.853  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Claiming sale and pairing device...
2025-09-29 20:23:40.853  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         D  Generated device fingerprint: 700a6d70
2025-09-29 20:23:40.853  5436-5436  SimpleDevi...gistration com.cdccreditsmart.app.debug         D  Claiming sale with validation ID: 05b6bdc7-ce2b-49cd-9d30-e796c1437054
2025-09-29 20:23:40.860  5436-5436  SimpleDevi...gistration com.cdccreditsmart.app.debug         E  Exception while claiming sale (Ask Gemini)
                                                                                                    java.lang.SecurityException: getSerial: The uid 10240 does not meet the requirements to access device identifiers.
                                                                                                    	at android.os.Parcel.createExceptionOrNull(Parcel.java:3242)
                                                                                                    	at android.os.Parcel.createException(Parcel.java:3226)
                                                                                                    	at android.os.Parcel.readException(Parcel.java:3209)
                                                                                                    	at android.os.Parcel.readException(Parcel.java:3151)
                                                                                                    	at android.os.IDeviceIdentifiersPolicyService$Stub$Proxy.getSerialForPackage(IDeviceIdentifiersPolicyService.java:157)
                                                                                                    	at android.os.Build.getSerial(Build.java:274)
                                                                                                    	at com.cdccreditsmart.app.device.SimpleDeviceRegistrationManager.collectDeviceInfo(SimpleDeviceRegistrationManager.kt:385)
                                                                                                    	at com.cdccreditsmart.app.device.SimpleDeviceRegistrationManager.claimSale-BWLJW6A(SimpleDeviceRegistrationManager.kt:152)
                                                                                                    	at com.cdccreditsmart.app.presentation.auth.SimplifiedAuthViewModel.performPairingWithImei(SimplifiedAuthViewModel.kt:411)
                                                                                                    	at com.cdccreditsmart.app.presentation.auth.SimplifiedAuthViewModel.access$performPairingWithImei(SimplifiedAuthViewModel.kt:45)
                                                                                                    	at com.cdccreditsmart.app.presentation.auth.SimplifiedAuthViewModel$performPairingWithImei$1.invokeSuspend(Unknown Source:15)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
                                                                                                    Caused by: android.os.RemoteException: Remote stack trace:
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.throwSecurityExceptionAsUidDoesNotHaveAccess(TelephonyPermissions.java:350)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.reportAccessDeniedToReadIdentifiers(TelephonyPermissions.java:461)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.checkPrivilegedReadPermissionOrCarrierPrivilegePermission(TelephonyPermissions.java:400)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.checkCallingOrSelfReadDeviceIdentifiers(TelephonyPermissions.java:302)
                                                                                                    	at com.android.internal.telephony.TelephonyPermissions.checkCallingOrSelfReadDeviceIdentifiers(TelephonyPermissions.java:272)
2025-09-29 20:23:40.861  5436-5436  SimplifiedAuthViewModel com.cdccreditsmart.app.debug         E  Failed to claim sale (Ask Gemini)
                                                                                                    java.lang.Exception: Error claiming sale: getSerial: The uid 10240 does not meet the requirements to access device identifiers.
                                                                                                    	at com.cdccreditsmart.app.device.SimpleDeviceRegistrationManager.claimSale-BWLJW6A(SimpleDeviceRegistrationManager.kt:206)
                                                                                                    	at com.cdccreditsmart.app.presentation.auth.SimplifiedAuthViewModel.performPairingWithImei(SimplifiedAuthViewModel.kt:411)
                                                                                                    	at com.cdccreditsmart.app.presentation.auth.SimplifiedAuthViewModel.access$performPairingWithImei(SimplifiedAuthViewModel.kt:45)
                                                                                                    	at com.cdccreditsmart.app.presentation.auth.SimplifiedAuthViewModel$performPairingWithImei$1.invokeSuspend(Unknown Source:15)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
