2025-11-08 22:42:58.164 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Starting handshake for contract: JSC7ZMKD
2025-11-08 22:42:58.165 16520-16520 DeviceInfoManager       com.cdccreditsmart.app.debug         W  READ_PHONE_STATE permission not granted
2025-11-08 22:42:58.165 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Device IMEI: UNKN...
2025-11-08 22:42:58.165 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         W  IMEI not available - using code-only sync fallback
2025-11-08 22:42:58.165 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  ========== APK AUTHENTICATION ==========
2025-11-08 22:42:58.165 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Pairing Code: JSC7ZMKD
2025-11-08 22:42:58.165 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Sending POST /api/apk/auth...
2025-11-08 22:42:58.165 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Request: { code: "JSC7****" }
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Response code: 200
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Response message: 
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Response body received
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  âœ… APK Authentication successful!
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Auth token received, expires in 86400s
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Device: Motorola G15 Power
2025-11-08 22:42:58.661 16520-16520 PairingViewModel        com.cdccreditsmart.app.debug         D  Customer: aline aosue
2025-11-08 22:42:58.668 16520-16520 SecureTokenStorage      com.cdccreditsmart.app.debug         D  Auth token saved successfully
2025-11-08 22:42:58.672 16520-16520 WebSocketManager        com.cdccreditsmart.app.debug         D  Connecting to WebSocket: wss://cdccreditsmart.com/ws/flow-status
2025-11-08 22:42:59.010 16520-16593 WebSocketManager        com.cdccreditsmart.app.debug         D  WebSocket connection opened
2025-11-08 22:42:59.011 16520-16593 WebSocketManager        com.cdccreditsmart.app.debug         D  WebSocket connected for contract: device_1762652486513_x5jh7wzd5j
2025-11-08 22:42:59.011 16520-16593 WebSocketManager        com.cdccreditsmart.app.debug         D  Starting heartbeat
2025-11-08 22:43:00.748 16520-16520 WindowOnBackDispatcher  com.cdccreditsmart.app.debug         W  sendCancelIfRunning: isInProgress=false callback=androidx.activity.OnBackPressedDispatcher$Api34Impl$createOnBackAnimationCallback$1@869504a
2025-11-08 22:43:01.771 16520-16520 NavController           com.cdccreditsmart.app.debug         I  Ignoring popBackStack to route pairing/qr_scanner as it was not found on the current back stack
2025-11-08 22:43:01.909 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Fetching device installments...
2025-11-08 22:43:01.909 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Using auth token from SecureTokenStorage
2025-11-08 22:43:01.947 16520-16594 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Added Authorization header with token
2025-11-08 22:43:01.947 16520-16594 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Request URL: https://cdccreditsmart.com/api/apk/device/installments
2025-11-08 22:43:02.406 16520-16594 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Response Code: 200
2025-11-08 22:43:02.422 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Successfully fetched installments data
2025-11-08 22:43:02.423 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         E  Exception loading installments (Ask Gemini)
                                                                                                    java.lang.NullPointerException: Attempt to invoke interface method 'int java.util.List.size()' on a null object reference
                                                                                                    	at com.cdccreditsmart.app.presentation.screens.home.SimpleHomeViewModel$loadInstallmentsData$1.invokeSuspend(SimpleHomeViewModel.kt:125)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
2025-11-08 22:43:04.552 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Refreshing installments data...
2025-11-08 22:43:04.555 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Fetching device installments...
2025-11-08 22:43:04.556 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Using auth token from SecureTokenStorage
2025-11-08 22:43:04.562 16520-16594 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Added Authorization header with token
2025-11-08 22:43:04.563 16520-16594 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Request URL: https://cdccreditsmart.com/api/apk/device/installments
2025-11-08 22:43:04.868 16520-16594 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Response Code: 200
2025-11-08 22:43:04.876 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         D  Successfully fetched installments data
2025-11-08 22:43:04.877 16520-16520 SimpleHomeViewModel     com.cdccreditsmart.app.debug         E  Exception loading installments (Ask Gemini)
                                                                                                    java.lang.NullPointerException: Attempt to invoke interface method 'int java.util.List.size()' on a null object reference
                                                                                                    	at com.cdccreditsmart.app.presentation.screens.home.SimpleHomeViewModel$loadInstallmentsData$1.invokeSuspend(SimpleHomeViewModel.kt:125)
                                                                                                    	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:34)
                                                                                                    	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
                                                                                                    	at android.os.Handler.handleCallback(Handler.java:959)
                                                                                                    	at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                                                    	at android.os.Looper.loopOnce(Looper.java:234)
                                                                                                    	at android.os.Looper.loop(Looper.java:319)
                                                                                                    	at android.app.ActivityThread.main(ActivityThread.java:8754)
                                                                                                    	at java.lang.reflect.Method.invoke(Native Method)
                                                                                                    	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)
                                                                                                    	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:962)
